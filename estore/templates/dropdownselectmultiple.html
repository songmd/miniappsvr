<select style="width: 360px;display: none" name="{{ widget.name }}"{% include "django/forms/widgets/attrs.html" %}>
    {% for group_name, group_choices, group_index in widget.optgroups %}{% if group_name %}
        <optgroup label="{{ group_name }}">{% endif %}{% for option in group_choices %}
        {% include option.template_name with widget=option %}{% endfor %}{% if group_name %}
        </optgroup>{% endif %}{% endfor %}
</select>

<script type="text/javascript">
    $(function () {
        $('select.dropdown-ms').change(function () {
            console.log($(this).val());
        }).multipleSelect({});
        $('select.dropdown-ms').parents().css({'overflow': 'visible', 'min-height': '36px'})
        $('select.dropdown-ms').data('option_num',$('select.dropdown-ms').children('option').length)
        setInterval(function () {
            var count =  $('select.dropdown-ms').children('option').length
            if(count != $('select.dropdown-ms').data('option_num')){
                $('select.dropdown-ms').data('multipleSelect').refresh()
                $('select.dropdown-ms').data('option_num',count)
            }
        },200)
    });
</script>


